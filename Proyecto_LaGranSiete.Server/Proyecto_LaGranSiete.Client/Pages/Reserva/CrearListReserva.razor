@page "/Api/ListReserva/Crear"
@inject IHTTPServicio http
@inject NavigationManager navigationManager


    
<!DOCTYPE html>

    <html>

        <head>
            <title>Lista de reservas</title>
        </head>

        <body class="p-3 mb-2 bg-black text-secondary">

            <header>

                <h1 class="text-center border-danger border border-0">Reservá tu lugar, completando los campos</h1>

                @* <h3 >Completá con los datos requeridos para realizar la reserva</h3> *@

            </header>

            <main class="container mt-5">

                <h3 class="text-center">Nueva Reserva acá realizamos una reserva </h3>
                <EditForm Model="reserva" OnValidSubmit="Grabar">
                    <DataAnnotationsValidator />

                    <!-- Fecha y Hora de Reserva -->
                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label">Fecha y Hora de Reserva</label>
                        <div class="col-sm-9">
                            <input type="datetime-local" class="form-control" @bind-value="@reserva.FechaHoraReserva" />
                            <ValidationMessage For="@(() => reserva.FechaHoraReserva)" />
                        </div>
                    </div>


                    <!-- Duración del Alquiler -->
                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label">Duración del alquiler</label>
                        <div class="col-sm-9">
                            <input type="number" class="form-control" @bind-value="@reserva.DuracionAlquiler" />
                            <ValidationMessage For="@(() => reserva.DuracionAlquiler)" />
                        </div>
                    </div>

                    <!-- Monto o Precio -->
                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label">Monto o precio</label>
                        <div class="col-sm-9">
                            <input type="number" class="form-control" @bind-value="@reserva.Monto" />
                            <ValidationMessage For="@(() => reserva.Monto)" />
                        </div>
                    </div>

                    <!-- Método Pago -->
                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label">Método Pago</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" @bind-value="@reserva.MetodoPago" />
                            <ValidationMessage For="@(() => reserva.MetodoPago)" />
                        </div>
                    </div>

                    <!-- Estado de la Reserva -->
                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label">Estado de la reserva</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" @bind-value="@reserva.EstadoReserva" />
                            <ValidationMessage For="@(() => reserva.EstadoReserva)" />
                        </div>
                    </div>

                    <!-- Botón de Reservar -->
                        
                    <div class="text-center mt-4 d-flex justify-content-center">
                        
                        <button class="btn btn-lg btn-success bg-gradient 
                           
                            w-50 text-uppercase fs-5 fw-bold text-white 
                            shadow-lg border-0 rounded-pill" type="submit">
                            Reservar ahora
                        </button>
                    </div>

                    @* boton de reserva, prueba de modificacón, (NO me gusta !!) *@

                   @*  <div class="text-center mt-4 d-flex justify-content-center align-items-center">
                        <button class="btn btn-lg btn-success bg-gradient w-50 text-uppercase fs-5 fw-bold text-white shadow-lg border-0 rounded-pill" type="submit">
                            Reservar ahora
                        </button>
                    </div> *@
                            

                </EditForm>

            </main>

            <footer>

            </footer>
    
        </body>

    </html>

              

@code {

    private Reserva reserva = new Reserva();

    private async Task Grabar()
    {
        var httpRespuesta = await http.Post<Reserva>("Api/Reservas", reserva);

        if (httpRespuesta.Error)
        {
            var body = httpRespuesta.HttpResponseMessage;
        }
        navigationManager.NavigateTo("/Api/Reservas");
    }

    private void Cancelar()
    {
        navigationManager.NavigateTo("/Api/Reservas");
    }

   


}
            




     

