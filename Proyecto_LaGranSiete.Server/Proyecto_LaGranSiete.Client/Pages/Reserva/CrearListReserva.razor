@page "/Api/ListReserva/Crear"
@inject IHTTPServicio http
@inject NavigationManager navigationManager
    
<!DOCTYPE html>

    <html>

        <head>
            <title>Lista de reservas</title>
        </head>

        <body class="p-3 mb-2 bg-black text-secondary">

                <header>

                    <h1 class="text-center border-danger border border-0">Reservá tu lugar, completando los campos</h1>

                    @* <h3 >Completá con los datos requeridos para realizar la reserva</h3> *@

                </header>
        
                <main>

                    @* <h3>Nueva Reserva</h3> *@


                    <EditForm Model="reserva" OnValidSubmit="Grabar">

                        <DataAnnotationsValidator />

                        <div class="form-group">

                            <label>Fecha y Hora de Reserva</label>

                            <div>
                                <input type="week" class="form-control" @bind-value="@reserva.FechaHoraReserva" />
                                <ValidationMessage For="@(() => reserva.FechaHoraReserva )" />
                            </div>

                        </div>

                    </EditForm>




                    <EditForm Model="reserva" OnValidSubmit="Grabar">

                        <DataAnnotationsValidator />

                        <div class="form-group">

                            <label>Duración del alquiler</label>

                            <div>
                                <input type="number" class="form-control" @bind-value="@reserva.DuracionAlquiler" />
                                <ValidationMessage For="@(() => reserva.DuracionAlquiler )" />
                            </div>

                        </div>

                    </EditForm>



                    <EditForm Model="reserva" OnValidSubmit="Grabar">

                        <DataAnnotationsValidator />

                        <div class="form-group">

                            <label>Monto o precio</label>

                            <div>
                                <input type="number" class="form-control" @bind-value="@reserva.Monto" />
                                <ValidationMessage For="@(() => reserva.Monto )" />
                            </div>

                        </div>

                    </EditForm>




                    <EditForm Model="reserva" OnValidSubmit="Grabar">

                        <DataAnnotationsValidator />

                        <div class="form-group">

                            <label>Método Pago</label>

                            <div>
                                <input type="text" class="form-control" @bind-value="@reserva.MetodoPago" />
                                <ValidationMessage For="@(() => reserva.MetodoPago )" />
                            </div>

                        </div>

                    </EditForm>

                    <EditForm Model="reserva" OnValidSubmit="Grabar">

                        <DataAnnotationsValidator />

                        <div class="form-group">

                            <label>Estado de la reserva</label>

                            <div>
                                <input type="text" class="form-control" @bind-value="@reserva.EstadoReserva" />
                                <ValidationMessage For="@(() => reserva.EstadoReserva )" />
                            </div>

                        </div>

                    </EditForm>

                    <br />


                    @* boton de reservar *@
                    <div class="">
                        <input class="btn bg-success bg-gradient w-100 p-3 h-50 d-inline-block 
                        text-uppercase fs-2 fw-bolder text-white text-center" type="submit" value="Reservar">
                    </div>

                   


                </main>

                <footer>

                </footer>
    
        </body>

    </html>

              

@code {

    private Reserva reserva = new Reserva();

    private async Task Grabar()
    {
        var httpRespuesta = await http.Post<Reserva>("Api/Reservas", reserva);

        if (httpRespuesta.Error)
        {
            var body = httpRespuesta.HttpResponseMessage;
        }
        navigationManager.NavigateTo("/Api/Reservas");
    }

    private void Cancelar()
    {
        navigationManager.NavigateTo("/Api/Reservas");
    }
}
            




     

